---
title: "erder"
author: "JJ"
date: "2024-10-04"
output: html_documentlibrary(rio)

---
```{r}
library(rio)
data=import("Capítulo 200 Miembros del Hogar.csv")
data1=import("Capítulo 100_600 Caracteristicas y Servicios del Hogar (2).csv")
data2=import("Capítulo 300_400-Prácticas Lectoras edad 18-64.csv")
```
```{r}
getwd()
```
```{r}
ncol(data)      # Para el primer data frame
ncol(data1)     # Para el segundo data frame
ncol(data2)     # Para el tercer data frame




```
```{r}
colnames(data)
colnames(data1)
colnames(data2)

```
```{r}
str(data)
str(data1)
str(data2)

```
```{r}
# Obtener los nombres de las columnas de cada data frame
nombres_data <- colnames(data)
nombres_data1 <- colnames(data1)
nombres_data2 <- colnames(data2)

# Encontrar columnas en común
comunes_data_data1 <- intersect(nombres_data, nombres_data1)
comunes_data_data2 <- intersect(nombres_data, nombres_data2)
comunes_data1_data2 <- intersect(nombres_data1, nombres_data2)

# Imprimir los resultados
cat("Columnas comunes entre 'data' y 'data1':\n")
print(comunes_data_data1)

cat("\nColumnas comunes entre 'data' y 'data2':\n")
print(comunes_data_data2)

cat("\nColumnas comunes entre 'data1' y 'data2':\n")
print(comunes_data1_data2)

```
```{r}
library(dplyr)

# Define las columnas comunes
columnas_comunes <- c("FECHA_CORTE", "PER", "CONG", "NSELV", 
                       "DOMINIO", "ESTRATO", "ESTRATOSOCIO", 
                       "FACTORFINAL_HOGAR", "CCDD", "NOMBREDD", 
                       "CCPP", "NOMBREPP", "CCDI", "NOMBREDI", 
                       "CCCP", "NOMBRECP", "UBIGEO", "VIVIENDA", 
                       "HOGAR", "TOT_HOGAR", "RESFIN", "RESFIN_O", 
                       "RESFIN_V", "RESFIN_V_O", "PERS_NRO", 
                       "P201", "P203", "P206", "P207", 
                       "P208", "P209", "P210_A", "P210_M", 
                       "TIPO_ENT", "TIPO_ENT_O", "RES_PER", 
                       "FACTOR200_FINAL")

# Función para ajustar un data frame a las columnas comunes
ajustar_data_frame <- function(df, columnas_comunes) {
  # Añadir columnas faltantes como NA
  for (col in columnas_comunes) {
    if (!col %in% colnames(df)) {
      df <- mutate(df, !!col := NA)  # Agregar columna faltante
    }
  }
  return(df %>% select(all_of(columnas_comunes)))  # Mantener solo columnas comunes
}

# Ajustar los data frames
data_ajustado <- ajustar_data_frame(data, columnas_comunes)
data1_ajustado <- ajustar_data_frame(data1, columnas_comunes)
data2_ajustado <- ajustar_data_frame(data2, columnas_comunes)

# Unir los data frames ajustados
resultado <- bind_rows(data_ajustado, data1_ajustado, data2_ajustado)

# Imprimir el resultado
print(resultado)

```
```{r}
resultado <- rbind(data, data1, data2)

```










